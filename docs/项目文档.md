划分文件 / 前缀（不强制重命名已有文件，但以后照这个来）：

* **通用 gacha 层** （所有角色共用）
* `common/scripted_effects/gacha_common_effects.txt`
* `common/scripted_triggers/gacha_trigger.txt`
* `events/gacha_events_events.txt`（你已经有了）
* 将来：`events/gacha_story_events.txt`（通用故事壳）
* **心海角色层**
  * `common/traits/xinhai_traits.txt`
  * `common/static_modifiers/xinhai_modifiers.txt`
  * `events/gacha_xinhai_events.txt`
  * `gfx/portraits/...` 里的一整套 xinhai_ 开头文件
  * `common/scripted_effects/xinhai_effects.txt`（负责心海专用 logic，比如命之座）
* **统一前缀风格**
  * 通用内容：`gacha_`
  * 心海专属：`xinhai_`
  * 全局角色列表变量：`gacha_char_list`
  * 通用 portrait trigger：`gacha_portrait_trigger`



# EU5 Gacha Mod 设计蓝图

## 1. 核心理念

**主题**：抽卡 + 陪伴
**定位**：轻量级陪伴型扩展，不全面接管游戏机制。
**体验**：

1. **即时反馈**：消耗金币 -> 祈愿 -> 出货的快感。
2. **长线陪伴**：角色作为廷臣/将领提供 Buff，并通过周期性剧情事件与玩家互动。

## 2. 核心循环 (MVP)

1. **积累资源**：正常游玩 EU5，攒钱。
2. **祈愿 (Gacha)**：通过决议/按钮进入祈愿池。
3. **角色登场**：获得角色，触发登场剧情，获得强力 Trait/Modifier。
4. **日常互动**：触发“锦囊妙计”或“日常闲聊”事件。
5. **重复获取**：再次抽到相同角色 -> 转化为“命之座”或资源（待实装）。

## 3. 开发阶段 (Phasing)

* **Phase 1 (当前)**：**架构搭建与心海 MVP**。
  * 跑通“交互 -> 抽卡池 -> 创角 -> 纸片人显示”全流程。
  * 实装心海的基础 Trait 和 Modifier。
* **Phase 2**：**剧情与互动系统**。
  * 实装月度脉冲 (Pulse)，触发心海的建议事件。
  * 完善好感度/命之座的变量埋点。
* **Phase 3**：**多角色扩展**。
  * 引入第二个角色（如雷神/神里），验证 Gacha 池的多角色兼容性。
* **Phase 4**：**深度系统**。
  * 好感度系统 UI、结婚/誓约系统、更多随机事件。
